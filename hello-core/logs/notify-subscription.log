2016-11-25 17:44:09,813 - Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [javax/servlet/ServletContext]
 2016-11-25 17:44:09,823 - Using TestExecutionListeners: [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@481a15ff, org.springframework.test.context.support.DirtiesContextTestExecutionListener@78186a70, org.springframework.test.context.transaction.TransactionalTestExecutionListener@306279ee, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@545997b1]
 2016-11-25 17:44:09,832 - Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [javax/servlet/ServletContext]
 2016-11-25 17:44:09,833 - Using TestExecutionListeners: [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@df27fae, org.springframework.test.context.support.DirtiesContextTestExecutionListener@24a35978, org.springframework.test.context.transaction.TransactionalTestExecutionListener@16f7c8c1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2f0a87b3]
 2016-11-25 17:44:10,039 - Loading XML bean definitions from class path resource [beans.xml]
 2016-11-25 17:44:10,298 - Loading XML bean definitions from class path resource [beans-jpa-h2.xml]
 2016-11-25 17:44:10,336 - Refreshing org.springframework.context.support.GenericApplicationContext@351d0846: startup date [Fri Nov 25 17:44:10 HKT 2016]; root of context hierarchy
 2016-11-25 17:44:10,493 - Loading properties file from class path resource [db-h2.properties]
 2016-11-25 17:44:10,572 - MLog clients using log4j logging.
 2016-11-25 17:44:11,038 - Initializing c3p0-0.9.2.1 [built 20-March-2013 10:47:27 +0000; debug? true; trace: 10]
 2016-11-25 17:44:11,245 - Building JPA container EntityManagerFactory for persistence unit 'default'
 2016-11-25 17:44:11,270 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
 2016-11-25 17:44:11,360 - HHH000412: Hibernate Core {4.3.1.Final}
 2016-11-25 17:44:11,362 - HHH000206: hibernate.properties not found
 2016-11-25 17:44:11,366 - HHH000021: Bytecode provider name : javassist
 2016-11-25 17:44:11,732 - HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
 2016-11-25 17:44:11,800 - Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hgeby99k16yylwx185c1c8|d86a6f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> org.h2.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hgeby99k16yylwx185c1c8|d86a6f, idleConnectionTestPeriod -> 0, initialPoolSize -> 5, jdbcUrl -> jdbc:h2:./H2Test\db\hello, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 0, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 10, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 2, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, statementCacheNumDeferredCloseThreads -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, userOverrides -> {}, usesTraditionalReflectiveProxies -> false ]
 2016-11-25 17:44:12,160 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
 2016-11-25 17:44:12,171 - HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
 2016-11-25 17:44:12,257 - HHH000397: Using ASTQueryTranslatorFactory
 2016-11-25 17:44:12,305 - HV000001: Hibernate Validator 4.3.1.Final
 2016-11-25 17:44:12,662 - HHH000227: Running hbm2ddl schema export
 2016-11-25 17:44:12,678 - HHH000230: Schema export complete
 2016-11-25 17:44:12,957 - Began transaction (1) for test context [DefaultTestContext@60e5272 testClass = StudentServiceTest, testInstance = com.aqiang.hello.service.StudentServiceTest@69379752, testMethod = testDeleteStudent@StudentServiceTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7d755813 testClass = StudentServiceTest, locations = '{classpath:beans.xml, classpath:beans-jpa-h2.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@69c93ca4]; rollback [true]
 2016-11-25 17:44:13,170 - Rolled back transaction for test context [DefaultTestContext@60e5272 testClass = StudentServiceTest, testInstance = com.aqiang.hello.service.StudentServiceTest@69379752, testMethod = testDeleteStudent@StudentServiceTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7d755813 testClass = StudentServiceTest, locations = '{classpath:beans.xml, classpath:beans-jpa-h2.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
 2016-11-25 17:44:13,173 - Began transaction (1) for test context [DefaultTestContext@60e5272 testClass = StudentServiceTest, testInstance = com.aqiang.hello.service.StudentServiceTest@69379752, testMethod = testMergeStudent@StudentServiceTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7d755813 testClass = StudentServiceTest, locations = '{classpath:beans.xml, classpath:beans-jpa-h2.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@69c93ca4]; rollback [true]
 2016-11-25 17:44:13,188 - Rolled back transaction for test context [DefaultTestContext@60e5272 testClass = StudentServiceTest, testInstance = com.aqiang.hello.service.StudentServiceTest@69379752, testMethod = testMergeStudent@StudentServiceTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7d755813 testClass = StudentServiceTest, locations = '{classpath:beans.xml, classpath:beans-jpa-h2.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
 2016-11-25 17:44:13,190 - Began transaction (1) for test context [DefaultTestContext@60e5272 testClass = StudentServiceTest, testInstance = com.aqiang.hello.service.StudentServiceTest@69379752, testMethod = testSaveStudent@StudentServiceTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7d755813 testClass = StudentServiceTest, locations = '{classpath:beans.xml, classpath:beans-jpa-h2.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@69c93ca4]; rollback [true]
 2016-11-25 17:44:13,196 - Rolled back transaction for test context [DefaultTestContext@60e5272 testClass = StudentServiceTest, testInstance = com.aqiang.hello.service.StudentServiceTest@69379752, testMethod = testSaveStudent@StudentServiceTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@7d755813 testClass = StudentServiceTest, locations = '{classpath:beans.xml, classpath:beans-jpa-h2.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
 2016-11-25 17:44:13,205 - Began transaction (1) for test context [DefaultTestContext@35dd9ed3 testClass = StudentServiceTest2, testInstance = com.aqiang.hello.service.StudentServiceTest2@27fe3806, testMethod = testGetStudentsByName@StudentServiceTest2, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@8ff5094 testClass = StudentServiceTest2, locations = '{classpath:beans.xml, classpath:beans-jpa-h2.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@69c93ca4]; rollback [true]
 2016-11-25 17:44:13,232 - Rolled back transaction for test context [DefaultTestContext@35dd9ed3 testClass = StudentServiceTest2, testInstance = com.aqiang.hello.service.StudentServiceTest2@27fe3806, testMethod = testGetStudentsByName@StudentServiceTest2, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@8ff5094 testClass = StudentServiceTest2, locations = '{classpath:beans.xml, classpath:beans-jpa-h2.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
 2016-11-25 17:44:13,234 - Began transaction (1) for test context [DefaultTestContext@35dd9ed3 testClass = StudentServiceTest2, testInstance = com.aqiang.hello.service.StudentServiceTest2@27fe3806, testMethod = testGetStudentsByNameAndAge@StudentServiceTest2, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@8ff5094 testClass = StudentServiceTest2, locations = '{classpath:beans.xml, classpath:beans-jpa-h2.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@69c93ca4]; rollback [true]
 2016-11-25 17:44:13,251 - Rolled back transaction for test context [DefaultTestContext@35dd9ed3 testClass = StudentServiceTest2, testInstance = com.aqiang.hello.service.StudentServiceTest2@27fe3806, testMethod = testGetStudentsByNameAndAge@StudentServiceTest2, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@8ff5094 testClass = StudentServiceTest2, locations = '{classpath:beans.xml, classpath:beans-jpa-h2.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
 2016-11-25 17:44:13,253 - Began transaction (1) for test context [DefaultTestContext@35dd9ed3 testClass = StudentServiceTest2, testInstance = com.aqiang.hello.service.StudentServiceTest2@27fe3806, testMethod = testGetStudentsByNameAndAgeAndGender@StudentServiceTest2, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@8ff5094 testClass = StudentServiceTest2, locations = '{classpath:beans.xml, classpath:beans-jpa-h2.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@69c93ca4]; rollback [true]
 2016-11-25 17:44:13,270 - Rolled back transaction for test context [DefaultTestContext@35dd9ed3 testClass = StudentServiceTest2, testInstance = com.aqiang.hello.service.StudentServiceTest2@27fe3806, testMethod = testGetStudentsByNameAndAgeAndGender@StudentServiceTest2, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@8ff5094 testClass = StudentServiceTest2, locations = '{classpath:beans.xml, classpath:beans-jpa-h2.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
 2016-11-25 17:44:13,272 - Began transaction (1) for test context [DefaultTestContext@35dd9ed3 testClass = StudentServiceTest2, testInstance = com.aqiang.hello.service.StudentServiceTest2@27fe3806, testMethod = testGetStudentsByNameOrAge@StudentServiceTest2, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@8ff5094 testClass = StudentServiceTest2, locations = '{classpath:beans.xml, classpath:beans-jpa-h2.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@69c93ca4]; rollback [true]
 2016-11-25 17:44:13,294 - Rolled back transaction for test context [DefaultTestContext@35dd9ed3 testClass = StudentServiceTest2, testInstance = com.aqiang.hello.service.StudentServiceTest2@27fe3806, testMethod = testGetStudentsByNameOrAge@StudentServiceTest2, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@8ff5094 testClass = StudentServiceTest2, locations = '{classpath:beans.xml, classpath:beans-jpa-h2.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
 2016-11-25 17:44:13,416 - Closing org.springframework.context.support.GenericApplicationContext@351d0846: startup date [Fri Nov 25 17:44:10 HKT 2016]; root of context hierarchy
 2016-11-25 17:44:13,417 - Closing JPA EntityManagerFactory for persistence unit 'default'
 2016-11-25 17:44:13,417 - HHH000227: Running hbm2ddl schema export
 2016-11-25 17:44:13,434 - HHH000231: Schema export unsuccessful
 org.h2.jdbc.JdbcSQLException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-191]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:345)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.message.DbException.get(DbException.java:144)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1468)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1443)
	at org.h2.jdbc.JdbcConnection.getAutoCommit(JdbcConnection.java:446)
	at com.mchange.v2.c3p0.impl.NewProxyConnection.getAutoCommit(NewProxyConnection.java:938)
	at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:52)
	at org.hibernate.tool.hbm2ddl.DatabaseExporter.<init>(DatabaseExporter.java:52)
	at org.hibernate.tool.hbm2ddl.SchemaExport.execute(SchemaExport.java:367)
	at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:318)
	at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:314)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:1365)
	at org.hibernate.jpa.internal.EntityManagerFactoryImpl.close(EntityManagerFactoryImpl.java:370)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:388)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:541)
	at com.sun.proxy.$Proxy26.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:464)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:259)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:578)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:554)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:900)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:523)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:907)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:915)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:891)
	at org.springframework.context.support.AbstractApplicationContext$1.run(AbstractApplicationContext.java:810)
2016-11-25 17:44:13,436 - HHH000230: Schema export complete
 