2017-02-10 16:52:07,695 - Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [javax/servlet/ServletContext]
 2017-02-10 16:52:07,705 - Using TestExecutionListeners: [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2353b3e6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@631330c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@42f93a98, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@c46bcd4]
 2017-02-10 16:52:07,711 - Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [javax/servlet/ServletContext]
 2017-02-10 16:52:07,711 - Using TestExecutionListeners: [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@23d2a7e8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7a9273a8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@26a7b76d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4abdb505]
 2017-02-10 16:52:07,850 - Loading XML bean definitions from class path resource [beans.xml]
 2017-02-10 16:52:08,064 - Loading XML bean definitions from class path resource [beans-jpa-h2.xml]
 2017-02-10 16:52:08,104 - Refreshing org.springframework.context.support.GenericApplicationContext@7dc222ae: startup date [Fri Feb 10 16:52:08 HKT 2017]; root of context hierarchy
 2017-02-10 16:52:08,207 - Loading properties file from class path resource [db-h2.properties]
 2017-02-10 16:52:08,289 - MLog clients using log4j logging.
 2017-02-10 16:52:08,384 - Initializing c3p0-0.9.2.1 [built 20-March-2013 10:47:27 +0000; debug? true; trace: 10]
 2017-02-10 16:52:08,509 - Building JPA container EntityManagerFactory for persistence unit 'default'
 2017-02-10 16:52:08,536 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
 2017-02-10 16:52:08,605 - HHH000412: Hibernate Core {4.3.1.Final}
 2017-02-10 16:52:08,607 - HHH000206: hibernate.properties not found
 2017-02-10 16:52:08,608 - HHH000021: Bytecode provider name : javassist
 2017-02-10 16:52:08,824 - HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
 2017-02-10 16:52:08,933 - Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge1a99mavs5x6r854o5|4b0d79fc, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> org.h2.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge1a99mavs5x6r854o5|4b0d79fc, idleConnectionTestPeriod -> 0, initialPoolSize -> 5, jdbcUrl -> jdbc:h2:./H2Test\db\hello, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 0, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 10, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 2, numHelperThreads -> 3, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, statementCacheNumDeferredCloseThreads -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, userOverrides -> {}, usesTraditionalReflectiveProxies -> false ]
 2017-02-10 16:52:09,182 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
 2017-02-10 16:52:09,194 - HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
 2017-02-10 16:52:09,309 - HHH000397: Using ASTQueryTranslatorFactory
 2017-02-10 16:52:09,354 - HV000001: Hibernate Validator 4.3.1.Final
 2017-02-10 16:52:09,700 - HHH000227: Running hbm2ddl schema export
 2017-02-10 16:52:09,734 - HHH000230: Schema export complete
 2017-02-10 16:52:09,953 - Began transaction (1) for test context [DefaultTestContext@1f443fae testClass = StudentServiceTest, testInstance = com.aqiang.hello.service.StudentServiceTest@1b26f7b2, testMethod = testDeleteStudent@StudentServiceTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@73ba6fe6 testClass = StudentServiceTest, locations = '{classpath:beans.xml, classpath:beans-jpa-h2.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@79ab34c1]; rollback [true]
 2017-02-10 16:52:10,186 - Rolled back transaction for test context [DefaultTestContext@1f443fae testClass = StudentServiceTest, testInstance = com.aqiang.hello.service.StudentServiceTest@1b26f7b2, testMethod = testDeleteStudent@StudentServiceTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@73ba6fe6 testClass = StudentServiceTest, locations = '{classpath:beans.xml, classpath:beans-jpa-h2.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
 2017-02-10 16:52:10,189 - Began transaction (1) for test context [DefaultTestContext@1f443fae testClass = StudentServiceTest, testInstance = com.aqiang.hello.service.StudentServiceTest@1b26f7b2, testMethod = testMergeStudent@StudentServiceTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@73ba6fe6 testClass = StudentServiceTest, locations = '{classpath:beans.xml, classpath:beans-jpa-h2.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@79ab34c1]; rollback [true]
 2017-02-10 16:52:10,199 - Rolled back transaction for test context [DefaultTestContext@1f443fae testClass = StudentServiceTest, testInstance = com.aqiang.hello.service.StudentServiceTest@1b26f7b2, testMethod = testMergeStudent@StudentServiceTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@73ba6fe6 testClass = StudentServiceTest, locations = '{classpath:beans.xml, classpath:beans-jpa-h2.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
 2017-02-10 16:52:10,201 - Began transaction (1) for test context [DefaultTestContext@1f443fae testClass = StudentServiceTest, testInstance = com.aqiang.hello.service.StudentServiceTest@1b26f7b2, testMethod = testSaveStudent@StudentServiceTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@73ba6fe6 testClass = StudentServiceTest, locations = '{classpath:beans.xml, classpath:beans-jpa-h2.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@79ab34c1]; rollback [true]
 2017-02-10 16:52:10,204 - Rolled back transaction for test context [DefaultTestContext@1f443fae testClass = StudentServiceTest, testInstance = com.aqiang.hello.service.StudentServiceTest@1b26f7b2, testMethod = testSaveStudent@StudentServiceTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@73ba6fe6 testClass = StudentServiceTest, locations = '{classpath:beans.xml, classpath:beans-jpa-h2.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
 2017-02-10 16:52:10,263 - Closing org.springframework.context.support.GenericApplicationContext@7dc222ae: startup date [Fri Feb 10 16:52:08 HKT 2017]; root of context hierarchy
 2017-02-10 16:52:10,263 - Closing JPA EntityManagerFactory for persistence unit 'default'
 2017-02-10 16:52:10,264 - HHH000227: Running hbm2ddl schema export
 2017-02-10 16:52:10,270 - HHH000231: Schema export unsuccessful
 org.h2.jdbc.JdbcSQLException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-191]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:345)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.message.DbException.get(DbException.java:144)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1468)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1443)
	at org.h2.jdbc.JdbcConnection.getAutoCommit(JdbcConnection.java:446)
	at com.mchange.v2.c3p0.impl.NewProxyConnection.getAutoCommit(NewProxyConnection.java:938)
	at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:52)
	at org.hibernate.tool.hbm2ddl.DatabaseExporter.<init>(DatabaseExporter.java:52)
	at org.hibernate.tool.hbm2ddl.SchemaExport.execute(SchemaExport.java:367)
	at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:318)
	at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:314)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:1365)
	at org.hibernate.jpa.internal.EntityManagerFactoryImpl.close(EntityManagerFactoryImpl.java:370)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:388)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:541)
	at com.sun.proxy.$Proxy22.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:464)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:259)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:578)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:554)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:900)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:523)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:907)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:915)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:891)
	at org.springframework.context.support.AbstractApplicationContext$1.run(AbstractApplicationContext.java:810)
2017-02-10 16:52:10,273 - HHH000230: Schema export complete
 